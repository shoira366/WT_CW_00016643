<div class="px-4 py-5 my-5 text-center">
    <h1 class="display-5 fw-bold">Update Recipe</h1>
</div>

<div class="row justify-content-center">

    <% if(infoEditObj != "") { %>
    <div class="col-8 alert alert-success" role="alert">
        <%= infoEditObj %>
    </div>
    <% } %>

    <% if(infoErrorsObj != "") { %>
    <div class="col-8 alert alert-danger" role="alert">
        <%= infoErrorsObj %>
    </div>
    <% } %>

    <div class="col-8">

        <% if(result != "") { %>
        <form id="form">
            <input type="hidden" name="_method" value="PUT">

            <div class="row g-3">
                <div class="col-12">
                    <label for="name" class="form-label">Recipe Name</label>
                    <input class="form-control" value="<%= result.recipe.name %>" type="text" name="name" id="name">
                </div>
                <div class="col-12">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" name="description" id="description" cols="30"
                        rows="4"><%= result.recipe.description %></textarea>
                </div>
                <div class="col-12">
                    <label for="ingredients" class="form-label">Ingredients</label><br>
                    <small>Example: Ice</small>
                    <div class="ingredientList">
                        <% result.recipe.ingredients.forEach(function(ingredient, index) { %>
                        <div class="ingredientDiv mb-1">
                            <input class="form-control" value="<%=ingredient %>" type="text" name="ingredients"
                                id="ingredients">
                        </div>
                        <% }) %>
                    </div>
                </div>

                <div class="col-12">
                    <button type="button" class="btn btn-outline-primary" id="addIngredientsBtn">+
                        Ingredient</button>
                </div>

                <div class="col-12">
                    <label for="category">Select Category</label>
                    <select class="form-select form-control" name="category" id="category" aria-label="Category">
                        <option>Select Category</option>
                        <%if(categories != "undefined" && categories.length > 0) { %>
                        <% categories.forEach(function(category, index) { %>
                        <option value="<%= category.id %>"
                            <%= category.id === result.recipe.category ? "selected" : "" %>>
                            <%= category.title %>
                        </option>
                        <% })%>
                        <% } %>
                    </select>
                </div>

                <div class="col-12">
                    <label for="image">Product Image</label>
                    <input id="image" type="file" value="<%= result.recipe.image %>" class="form-control" name="image">
                </div>

                <div class="col-12">
                    <button type="submit" class="btn btn-primary">Update Recipe</button>
                </div>
            </div>
        </form>
        <% } %>
    </div>
</div>